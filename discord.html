<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CATSINT — Discord Server Stats</title>
  <meta name="description" content="CATSINT — Real-time Discord server statistics for our private, invite‑only CSINT community."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0A0A0B;
      --panel:#101014;
      --panel-2:#0f0f13;
      --text:#EAEAF0;
      --muted:#9A9AA3;
      --accent:#FF3CAC; 
      --accent-2:#784BA0; 
      --accent-3:#2B86C5; 
      --ring: rgba(255, 60, 172, .25);
      --radius: 20px;
      --shadow: 0 12px 40px rgba(0,0,0,.5), 0 0 0 1px rgba(255,255,255,.05) inset;
      --trans: 220ms cubic-bezier(.22,1,.36,1);
      --logo-url: url('https://cdn.discordapp.com/attachments/1405650092085477408/1408935767404843100/Zrzut_ekranu_2025-08-23_172657-removebg-preview.png?ex=68ab8d2f&is=68aa3baf&hm=80e9234abfcaeb8e9e12bd2a6eb4bfc21ba7ee8cc2067fa1debc92e29e7ef406&');
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; color:var(--text); background:var(--bg); overflow-x:hidden; }

    .bg-grid{ position:fixed; inset:0; z-index:-3; opacity:.5; background:
       linear-gradient(transparent 0, rgba(255,255,255,.02) 1px) 0 0/ 100% 40px,
       linear-gradient(90deg, transparent 0, rgba(255,255,255,.02) 1px) 0 0/ 40px 100%;
      mask: radial-gradient(1200px 1200px at 50% 20%, black 60%, transparent 75%), linear-gradient(black, black);
      animation: gridFloat 18s ease-in-out infinite alternate; }
    @keyframes gridFloat{from{transform:translateY(-2%)}to{transform:translateY(2%)} }
    .orb{ position:fixed; filter: blur(60px); z-index:-2; mix-blend-mode:screen; opacity:.8; }
    .orb.tl{ width:520px; height:520px; top:-120px; left:-120px; background: radial-gradient(closest-side, rgba(255,60,172,.65), transparent 70%); animation: orbMove 14s ease-in-out infinite;}
    .orb.br{ width:600px; height:600px; right:-160px; bottom:-160px; background: radial-gradient(closest-side, rgba(120,75,160,.55), transparent 70%); animation: orbMove 16s ease-in-out infinite reverse;}
    @keyframes orbMove{ 0%{transform:translate(0,0)} 50%{transform:translate(20px,-10px) scale(1.05)} 100%{transform:translate(-10px,10px)} }

    .spark{ position:fixed; width:2px; height:2px; background:#fff; opacity:.6; border-radius:2px; filter: drop-shadow(0 0 6px rgba(255,60,172,.8)); z-index:-1; animation: drift var(--d,12s) linear infinite; }
    @keyframes drift{ from{ transform:translate3d(var(--x,0), 110vh,0)} to{ transform:translate3d(calc(var(--x,0) + 10vw), -10vh,0)} }

    #root{min-height:100dvh; display:grid; grid-template-rows:auto 1fr auto}
    header{ position:sticky; top:0; z-index:50; backdrop-filter:saturate(140%) blur(12px); background:linear-gradient(180deg, rgba(16,16,20,.75), rgba(16,16,20,.5)); border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{ max-width:1180px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; gap:14px}
    .brand{ display:flex; align-items:center; gap:12px; font-weight:800; letter-spacing:.5px}
    .logo{ width:36px; height:36px; border-radius:10px; background-image: var(--logo-url); background-size: cover; background-position: center; box-shadow:0 0 30px rgba(255,60,172,.35); overflow:hidden }
    .brand b{ background: linear-gradient(90deg, var(--accent), var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:900}
    .nav .spacer{ flex:1 }
    .pill{ font-size:12px; color:var(--muted); background:rgba(255,255,255,.05); padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.06); display:inline-flex; align-items:center; gap:8px }
    .pill .diode{ width:8px; height:8px; border-radius:50%; background:radial-gradient(circle at 40% 40%, #fff, var(--accent) 60%); box-shadow:0 0 10px rgba(255,60,172,.9), 0 0 24px rgba(255,60,172,.6); animation: diode 1.8s ease-in-out infinite }
    @keyframes diode{ 0%,100%{filter:saturate(160%)} 50%{ transform:scale(1.15); box-shadow:0 0 18px rgba(255,60,172,1), 0 0 40px rgba(255,60,172,.8)} }

    .btn{ position:relative; display:inline-flex; gap:10px; align-items:center; justify-content:center; padding:12px 16px; border-radius:14px; background:linear-gradient(180deg, rgba(255,60,172,.18), rgba(255,60,172,.12)); color:#fff; border:1px solid rgba(255,60,172,.35); box-shadow:0 6px 30px rgba(255,60,172,.25); cursor:pointer; text-decoration:none; transition: transform var(--trans), box-shadow var(--trans), background var(--trans); will-change:transform}
    .btn:hover{ transform: translateY(-2px) scale(1.01); box-shadow:0 10px 40px rgba(255,60,172,.35)}
    .btn:active{ transform: translateY(0)}
    .btn[data-ripple]{ overflow:hidden }

    .hero{ position:relative; max-width:1180px; margin:0 auto 20px; padding:92px 20px 40px; display:grid; grid-template-columns:1fr; gap:32px; align-items:center}
    .tag{ display:inline-flex; align-items:center; gap:10px; padding:8px 12px; border:1px solid rgba(255,255,255,.08); border-radius:999px; background:rgba(255,255,255,.03); color:var(--muted); font-size:13px; animation: floaty 6s ease-in-out infinite }
    @keyframes floaty{ 0%,100%{ transform:translateY(0)} 50%{ transform:translateY(-3px)} }
    .tag .dot{ width:8px; height:8px; border-radius:50%; background:radial-gradient(circle at 40% 40%, #fff, var(--accent) 60%); box-shadow:0 0 12px rgba(255,60,172,.9); animation: diode 2.2s ease-in-out infinite }

    h1{ font-size: clamp(34px, 5vw, 64px); line-height:1.05; margin:14px 0 12px; letter-spacing:-.02em}
    .gradient-text{ background:linear-gradient(90deg, #fff, #fff 30%, var(--accent) 60%, var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent; animation: shimmer 6s linear infinite }
    @keyframes shimmer{ 0%{filter:brightness(1)} 50%{filter:brightness(1.2)} 100%{filter:brightness(1)} }
    .sub{ color:#CFCFDA; font-size: clamp(14px, 2.4vw, 18px); line-height:1.6; max-width:62ch; opacity:.9; animation: fadeUp .9s ease both }
    @keyframes fadeUp{ from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:none} }

    .stats{ display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap:24px; margin-top:24px; max-width: 1180px; justify-content: center; }
    .card{ position:relative; background: linear-gradient(135deg, rgba(255,60,172,.08), rgba(120,75,160,.06)); border:1px solid rgba(255,60,172,.2); border-radius: 24px; padding:24px; transition: transform var(--trans), box-shadow var(--trans); box-shadow: var(--shadow); overflow:hidden; min-height:140px; }
    .card::before{ content:""; position:absolute; inset:0; border-radius:inherit; padding:1px; background: radial-gradient(200px 200px at var(--mx,50%) var(--my,50%), rgba(255,60,172,.9), rgba(255,60,172,0) 60%);
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude; pointer-events:none; opacity:.0; transition: opacity .3s ease; }
    .card:hover{ transform: translateY(-4px); box-shadow: 0 16px 50px rgba(255,60,172,.3); }
    .card:hover::before{ opacity:1 }
    .card svg{ width:24px; height:24px; margin-right:8px; vertical-align:-6px; filter: drop-shadow(0 0 8px rgba(255,60,172,.5)); }
    .card h3{ font-size:20px; margin:0 0 8px; display:flex; align-items:center; }
    .card p{ font-size:28px; font-weight:600; margin:0; background: linear-gradient(90deg, var(--accent), var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent; }
    .card .count{ opacity:0; transition: opacity .5s ease; }
    .card .count.updated{ opacity:1; }

    footer{ border-top:1px solid rgba(255,255,255,.06); background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01))}
    .foot{ max-width:1180px; margin:0 auto; padding:24px 20px; display:flex; gap:16px; align-items:center; justify-content:space-between; color:var(--muted)}

    .reveal{ opacity:0; transform: translateY(14px) scale(.98); transition: all 700ms cubic-bezier(.2,.8,.2,1)}
    .reveal.in-view{ opacity:1; transform: none }

    @media (max-width: 980px){
      .hero{ grid-template-columns: 1fr; padding-top: 64px }
      .stats{ grid-template-columns: 1fr; max-width: 500px; }
      .card{ min-height:120px; }
      .card p{ font-size:24px; }
    }
    @media (max-width: 600px){
      .stats{ max-width: 100%; }
      .card svg{ width:20px; height:20px; }
      .card h3{ font-size:18px; }
    }
  </style>
</head>
<body>
  <!-- Background layers -->
  <div class="bg-grid" aria-hidden="true"></div>
  <div class="orb tl" aria-hidden="true"></div>
  <div class="orb br" aria-hidden="true"></div>

  <div id="root">
    <header>
      <nav class="nav">
        <div class="brand" aria-label="CATSINT">
          <div class="logo" role="img"></div>
          <span>CATS<b>INT</b></span>
        </div>
        <span class="pill"><span class="diode" aria-hidden="true"></span> Invite‑only • Private access</span>
        <div class="spacer"></div>
        <a class="btn" href="index.html" data-ripple>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 3l7 4v10l-7 4-7-4V7l7-4Z" stroke="currentColor" stroke-width="1.5"/></svg>
          Back to Home
        </a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div>
          <span class="tag reveal"><span class="dot"></span> CATSINT Discord Community</span>
          <h1 class="reveal" style="transition-delay:60ms">
            <span class="gradient-text">Server Statistics</span>
          </h1>
          <p class="sub reveal" style="transition-delay:120ms">
            Explore real-time metrics of our private, invite‑only Discord server, where security researchers and teams collaborate on lawful CSINT projects.
          </p>
        </div>
        <div class="stats">
          <article class="card reveal" style="transition-delay:80ms">
            <h3>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M17 21a5 5 0 0 0-10 0m5-4a5 5 0 0 0 5-5V8a5 5 0 1 0-10 0v4a5 5 0 0 0 5 5Z"/></svg>
              Total Members
            </h3>
            <p id="total-members" class="count">Loading...</p>
          </article>
          <article class="card reveal" style="transition-delay:120ms">
            <h3>
              <svg viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="5" fill="currentColor" fill-opacity=".8"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Zm0 16a6 6 0 1 1 6-6 6 6 0 0 1-6 6Z" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
              Online Members
            </h3>
            <p id="online-members" class="count">Loading...</p>
          </article>
          <article class="card reveal" style="transition-delay:160ms">
            <h3>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2.3c3.5 0 6.3 4.8 6.3 10.7S12 23.7 12 23.7s-6.3-4.8-6.3-10.7S8.5 2.3 12 2.3Z"/><path d="M12 8v6m-3-3h6"/></svg>
              Server Boosts
            </h3>
            <p id="boosts" class="count">Loading...</p>
          </article>
          <article class="card reveal" style="transition-delay:200ms">
            <h3>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2.5 9.8 8.9l-6.7 1 4.8 4.7-1.1 6.6 6-3.2 6 3.2-1.1-6.6 4.8-4.7-6.7-1L12 2.5Z"/></svg>
              Customer Members
            </h3>
            <p id="customer-members" class="count">Loading...</p>
          </article>
        </div>
      </section>
    </main>

    <footer>
      <div class="foot">
        <div class="brand" aria-label="CATSINT"><div class="logo"></div><span>CATS<b>INT</b></span></div>
        <span>© <span id="year"></span> CATSINT. All rights reserved.</span>
      </div>
    </footer>
  </div>

  <script type="text/javascript">
    const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));

    // Animated counter function
    function animateCounter(element, start, end, duration) {
      let startTime = null;
      const step = (currentTime) => {
        if (!startTime) startTime = currentTime;
        const progress = Math.min((currentTime - startTime) / duration, 1);
        const value = Math.floor(progress * (end - start) + start);
        element.textContent = `${value.toLocaleString()}${element.id === 'boosts' ? ' boosts' : element.id === 'customer-members' ? ' members' : element.id === 'online-members' ? ' online' : ' members'}`;
        if (progress < 1) requestAnimationFrame(step);
        else element.classList.add('updated');
      };
      requestAnimationFrame(step);
    }

    document.addEventListener('DOMContentLoaded', () => {

      const els = document.querySelectorAll('.reveal');
      const io = new IntersectionObserver((entries)=>{ entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in-view'); io.unobserve(e.target); } }); }, {threshold:.12});
      els.forEach(el=> io.observe(el));


      document.querySelectorAll('[data-ripple]').forEach(btn=>{
        btn.addEventListener('click', function(e){
          const r = document.createElement('span');
          const rect = this.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          Object.assign(r.style, {position:'absolute', borderRadius:'50%', pointerEvents:'none', inset:'0', margin:'auto', width:size+'px', height:size+'px', background:'radial-gradient(circle, rgba(255,60,172,.35), transparent 60%)', opacity:'1', transition:'opacity 600ms ease-out, transform 600ms ease-out', transform:`translate(${e.clientX-rect.left-size/2}px, ${e.clientY-rect.top-size/2}px)`});
          this.appendChild(r); requestAnimationFrame(()=>{ r.style.opacity='0'; r.style.transform+=' scale(1.6)'; }); setTimeout(()=> r.remove(), 650);
        })
      });


      document.getElementById('year').textContent = new Date().getFullYear();


      const reactive = $$('.card');
      reactive.forEach(el=>{
        el.addEventListener('mousemove', (e)=>{
          const r = el.getBoundingClientRect();
          el.style.setProperty('--mx', (e.clientX - r.left) + 'px');
          el.style.setProperty('--my', (e.clientY - r.top) + 'px');
        });
      });


      const elements = {
        'total-members': 0,
        'online-members': 0,
        'boosts': 0,
        'customer-members': 0,
      };
      const fetchStats = async () => {
        try {
          const response = await fetch('http://localhost:3000/api/stats');
          if (!response.ok) throw new Error('Failed to fetch stats');
          const data = await response.json();
          Object.keys(elements).forEach(key => {
            const el = document.getElementById(key);
            el.classList.remove('updated');
            animateCounter(el, elements[key], data[key], 1000);
            elements[key] = data[key];
          });
        } catch (error) {
          console.error('Error fetching stats:', error);
          Object.keys(elements).forEach(key => {
            const el = document.getElementById(key);
            el.textContent = 'Error';
            el.classList.add('updated');
          });
        }
      };

      // Initial fetch and periodic refresh
      fetchStats();
      setInterval(fetchStats, 30000);

      // Sparkles
      const makeSpark = (x, d)=>{ const s=document.createElement('div'); s.className='spark'; s.style.setProperty('--x', x + 'vw'); s.style.setProperty('--d', d + 's'); document.body.appendChild(s); }
      for(let i=0;i<36;i++){ makeSpark(-40 + Math.random()*160, 10 + Math.random()*12); }

      // Logo support
      const params = new URLSearchParams(location.search);
      const logoParam = params.get('logo');
      const applyLogo = url => { document.documentElement.style.setProperty('--logo-url', url ? `url(${url})` : 'url(https://discord.gg/g8d3wFPtbN)'); };
      if(logoParam) applyLogo(logoParam);
      window.CATSINT = { setLogo: applyLogo };
    });
  </script>
</body>
</html>